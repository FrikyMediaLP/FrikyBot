<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Alerts History - FrikyBot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- GENERAL CSS -->
    <link href="/Alerts/standard.css" rel="stylesheet">
    <link href="/styles/standard.css" rel="stylesheet">

    <!-- PAGE CSS-->
    <style>

    </style>

    <!-- GENERAL JS-->
    <script src="/Alerts/standard.js"></script>
    <script src="/scripts/standard.js"></script>

    <!-- PAGE JS-->
    <script>
        const register_info = {
            origin: "/Alerts/History",
            topic: "Alerts",
            misc: "all"
        };
        let socket = {};

        function init() {
            socket = StartWebsocket(register_info);

            socket.addEventListener('message', function (event) {
                let type = event.data.toString().split(":")[0];
                if (type === 'register' || type === 'Error') return;
                let data = JSON.parse(event.data.toString().split(":").slice(1).join(":"));

                if (type === 'settings') {
                    CONFIG = data;
                } else {
                    //Add to History
                    Add2History(type, data);

                    //Echo back (Ping-Pong alternative)
                    socket.send(event.data.toString());
                }
            });
        }
        function fetchInfo() {

        }

        //History
        function Add2History() {

        }
    </script>

    <!-- MISC -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400&display=swap" rel="stylesheet">
</head>
<body onload="init();">
    <!-- MAIN GRID -->
    <div id="ALERT">

    </div>
</body>
</html>